<div class="page" id="page-tfsa" role="region" aria-label="TFSA Contribution Room Calculator">
  <div class="calc-container" style="padding-top: 6rem;">
    <div class="calc-back" onclick="showPage('home')" role="button" tabindex="0" aria-label="Back to Tools">â† Back to Tools</div>
    <div class="calc-header animate-fade-up">
      <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">ğŸ¦</div>
      <h1 style="font-size: 2rem; margin-bottom: 0.5rem;">TFSA Contribution Room Calculator</h1>
      <p style="color: var(--text-secondary); max-width: 540px; margin: 0 auto;">Track your TFSA contribution room from 2009 to today. Never over-contribute again.</p>
    </div>
    <div class="action-buttons" style="justify-content: center;">
      <button class="btn btn-secondary btn-sm" onclick="generatePDFReport('TFSA Contribution Room Calculator')">ğŸ“„ Download PDF Report</button>
      <button class="btn btn-secondary btn-sm" onclick="copyResults('TFSA Contribution Room Calculator')">ğŸ“‹ Copy Results</button>
      <button class="btn btn-secondary btn-sm" onclick="shareCalculator('tfsa')">ğŸ”— Share</button>
    </div>
    <div class="calc-grid" style="margin-top: 2rem;">
      <div class="calc-inputs glass-card" style="padding: var(--space-xl);">
        <div class="input-group">
          <label for="tfsa-birth-year">Birth Year</label>
          <input type="number" id="tfsa-birth-year" min="1900" max="2008" value="1990" oninput="calculateTFSA()">
        </div>
        <div class="input-group">
          <label for="tfsa-resident-check">
            <input type="checkbox" id="tfsa-resident-check" checked oninput="calculateTFSA(); document.getElementById('tfsa-residency-year-group').style.display = this.checked ? 'none' : 'block';">
            Born in Canada / resident since before 2009
          </label>
        </div>
        <div class="input-group" id="tfsa-residency-year-group" style="display: none;">
          <label for="tfsa-residency-year">Year You Became a Canadian Resident</label>
          <input type="number" id="tfsa-residency-year" min="2009" max="2026" value="2015" oninput="calculateTFSA()">
        </div>
        <div class="input-group">
          <label for="tfsa-contributions">Total Contributions to Date ($)</label>
          <input type="number" id="tfsa-contributions" min="0" step="100" value="0" oninput="calculateTFSA()">
        </div>
        <button class="btn btn-primary" onclick="calculateTFSA()" style="width: 100%; margin-top: 1rem;">Calculate My TFSA Room</button>
      </div>
      <div class="calc-results" id="tfsa-results" aria-live="polite"></div>
    </div>
    <div style="margin-top: 2rem;" id="tfsa-chart"></div>
    <div style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-secondary); border-radius: var(--radius-lg); border: 1px solid var(--border-primary);" id="tfsa-breakdown"></div>
    <div class="affiliate-resources">
      <h3>ğŸ“š Recommended Resources</h3>
      <div class="affiliate-grid">
        <a href="https://www.amazon.ca/dp/1119356296?tag=figgy0a0-20" target="_blank" rel="noopener noreferrer sponsored" class="affiliate-card">
          <div class="affiliate-info">
            <span class="affiliate-title">Millionaire Teacher</span>
            <span class="affiliate-author">Andrew Hallam</span>
            <span class="affiliate-why">Canadian investing fundamentals</span>
          </div>
        </a>
        <a href="https://www.amazon.ca/dp/0143188410?tag=figgy0a0-20" target="_blank" rel="noopener noreferrer sponsored" class="affiliate-card">
          <div class="affiliate-info">
            <span class="affiliate-title">Wealthing Like Rabbits</span>
            <span class="affiliate-author">Robert R. Brown</span>
            <span class="affiliate-why">Fun intro to Canadian personal finance</span>
          </div>
        </a>
      </div>
      <p class="affiliate-disclosure">As an Amazon Associate, FiggyBank earns from qualifying purchases.</p>
    </div>
  </div>
</div>
